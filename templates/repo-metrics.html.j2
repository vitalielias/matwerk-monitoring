{% from "components/card.html.j2" import plot_card, table_card %}
{% from "components/small_card.html.j2" import small_card %}

{% extends "partials/layout.html.j2" %}

{% block content %}

<div class="container-fluid px-4">
    <h1 class="mt-4">Data and Metadata Repository Metrics</h1>
    <p><i>Usage metrics for the Data and Metadata Repository services.</i></p>
    <ol class="breadcrumb mb-4">
        <li class="breadcrumb-item active" id="last_updated_time">Last Updated: {{ report_time }} </li>
    </ol>

    <div class="row px-2" id="small-card-container">
        {#{ small_card("fas fa-microscope", "Supported Plugins", "6", "var(--bs-primary)") }#}
        {#{ small_card("fas fa-database", "Research Images Processed", "23.9 GB", "var(--bs-secondary)") }#}
        {{ small_card("fas fa-users", "Total Users", "327", "var(--bs-secondary)") }}
        {{ small_card("fas fa-file", "Data Documents Stored", "87", "var(--bs-light)") }}
        {{ small_card("fas fa-file", "Metadata Documents Stored", "124", "var(--bs-dark)") }}
        {{ small_card("fas fa-layer-group", "Registered Schemas", "34", "var(--bs-primary)") }}


    </div>
    <div class="row", id="card-container">
        {{ plot_card("REPO_user_growth", "Number of Page Accesses (SAMPLE DATA)", "fas fa-users me-1") }}
        {{ plot_card("REPO_unique_accesses", "Number of page accesses from unique users (SAMPLE DATA)", "fas fa-users me-1") }}
        {{ plot_card("REPO_user_distribution", "Geographical distribution of users (SAMPLE DATA)", "fas fas fa-earth-americas me-1", large=True) }}
        {#{ plot_card("user_distribution_map", "Geographical distribution of users (SAMPLE DATA)", "fas fa-earth-americas me-1") }#}
        {#{ table_card("Card Title for the table", "sample_table")}#}
    </div>
</div>

{% endblock %}
